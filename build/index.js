module.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=10)}([function(t,e){t.exports=require("react")},function(t,e,r){t.exports=r(6)},function(t,e,r){var n=r(3),o=r(4);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1};n(o,i);t.exports=o.locals||{}},function(t,e,r){"use strict";var n,o=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},i=function(){var t={};return function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}t[e]=r}return t[e]}}(),a=[];function c(t){for(var e=-1,r=0;r<a.length;r++)if(a[r].identifier===t){e=r;break}return e}function u(t,e){for(var r={},n=[],o=0;o<t.length;o++){var i=t[o],u=e.base?i[0]+e.base:i[0],s=r[u]||0,l="".concat(u," ").concat(s);r[u]=s+1;var p=c(l),h={css:i[1],media:i[2],sourceMap:i[3]};-1!==p?(a[p].references++,a[p].updater(h)):a.push({identifier:l,updater:m(h,e),references:1}),n.push(l)}return n}function s(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var o=r.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,p=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function h(t,e,r,n){var o=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=p(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function f(t,e,r){var n=r.css,o=r.media,i=r.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var d=null,v=0;function m(t,e){var r,n,o;if(e.singleton){var i=v++;r=d||(d=s(e)),n=h.bind(null,r,i,!1),o=h.bind(null,r,i,!0)}else r=s(e),n=f.bind(null,r,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(r)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var r=u(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<r.length;n++){var o=c(r[n]);a[o].references--}for(var i=u(t,e),s=0;s<r.length;s++){var l=c(r[s]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}r=i}}}},function(t,e,r){(e=r(5)(!1)).push([t.i,".imageCard {\n  text-align: center;\n}\n\n.imageCard img {\n  width: 600px;\n}\n\n.backdrop {\n  position: fixed;\n  background-color: black;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.crop-container {\n  position: fixed;\n  /* top: 0;\n  left: 0;\n  right: 0;\n  bottom: 80px; */\n  top: 100px;\n  left: 10px;\n  right: 10px;\n  bottom: 240px;\n}\n\n.controls {\n  position: absolute;\n  overflow: auto;\n  /* position: fixed; */\n  bottom: 0px;\n  width: 100%;\n  /* height: 80px; */\n}\n\n.controls-upper-area {\n  text-align: center;\n}\n\n.slider {\n  width: 50%;\n}\n\n.button-area {\n  text-align: center;\n  margin-top: 20px;\n}\n\nbutton {\n  margin-left: 10px;\n  margin-right: 10px;\n  background-color: black;\n  color: white;\n  border: 1px solid yellow;\n  font-size: 20px;\n}",""]),t.exports=e},function(t,e,r){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var o=(a=n,c=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(u," */")),i=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[r].concat(i).concat([o]).join("\n")}var a,c,u;return[r].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(r,"}"):r})).join("")},e.i=function(t,r,n){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(n)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);n&&o[u[0]]||(r&&(u[2]?u[2]="".concat(r," and ").concat(u[2]):u[2]=r),e.push(u))}},e}},function(t,e,r){"use strict";var n=r(7),o=r(8);function i(t){var e=0,r=0,n=0,o=0;return"detail"in t&&(r=t.detail),"wheelDelta"in t&&(r=-t.wheelDelta/120),"wheelDeltaY"in t&&(r=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=r,r=0),n=10*e,o=10*r,"deltaY"in t&&(o=t.deltaY),"deltaX"in t&&(n=t.deltaX),(n||o)&&t.deltaMode&&(1==t.deltaMode?(n*=40,o*=40):(n*=800,o*=800)),n&&!e&&(e=n<1?-1:1),o&&!r&&(r=o<1?-1:1),{spinX:e,spinY:r,pixelX:n,pixelY:o}}i.getEventType=function(){return n.firefox()?"DOMMouseScroll":o("wheel")?"wheel":"mousewheel"},t.exports=i},function(t,e){var r,n,o,i,a,c,u,s,l,p,h,f,d,v,m,g=!1;function y(){if(!g){g=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),y=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(f=/\b(iPhone|iP[ao]d)/.exec(t),d=/\b(iP[ao]d)/.exec(t),p=/Android/i.exec(t),v=/FBAN\/\w+;/i.exec(t),m=/Mobile/i.exec(t),h=!!/Win64/.exec(t),e){(r=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN)&&document&&document.documentMode&&(r=document.documentMode);var w=/(?:Trident\/(\d+.\d+))/.exec(t);c=w?parseFloat(w[1])+4:r,n=e[2]?parseFloat(e[2]):NaN,o=e[3]?parseFloat(e[3]):NaN,(i=e[4]?parseFloat(e[4]):NaN)?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),a=e&&e[1]?parseFloat(e[1]):NaN):a=NaN}else r=n=o=a=i=NaN;if(y){if(y[1]){var b=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);u=!b||parseFloat(b[1].replace("_","."))}else u=!1;s=!!y[2],l=!!y[3]}else u=s=l=!1}}var w={ie:function(){return y()||r},ieCompatibilityMode:function(){return y()||c>r},ie64:function(){return w.ie()&&h},firefox:function(){return y()||n},opera:function(){return y()||o},webkit:function(){return y()||i},safari:function(){return w.webkit()},chrome:function(){return y()||a},windows:function(){return y()||s},osx:function(){return y()||u},linux:function(){return y()||l},iphone:function(){return y()||f},mobile:function(){return y()||f||d||p||m},nativeApp:function(){return y()||v},android:function(){return y()||p},ipad:function(){return y()||d}};t.exports=w},function(t,e,r){"use strict";var n,o=r(9);o.canUseDOM&&(n=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""))
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */,t.exports=function(t,e){if(!o.canUseDOM||e&&!("addEventListener"in document))return!1;var r="on"+t,i=r in document;if(!i){var a=document.createElement("div");a.setAttribute(r,"return;"),i="function"==typeof a[r]}return!i&&n&&"wheel"===t&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}},function(t,e,r){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=o},function(t,e,r){"use strict";r.r(e);var n=r(0),o=r.n(n),i=(r(2),function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)});function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var c=function(){return(c=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;var u=r(1),s=r.n(u);function l(t,e,r,n,o,i){void 0===i&&(i=0);var a=x(t,e,i),c=a.width,u=a.height,s=Math.min(c,r),l=Math.min(u,n);return s>l*o?{width:l*o,height:l}:{width:s,height:s/o}}function p(t,e,r,n,o){void 0===o&&(o=0);var i=x(e.width,e.height,o),a=i.width,c=i.height;return{x:h(t.x,a,r.width,n),y:h(t.y,c,r.height,n)}}function h(t,e,r,n){var o=e*n/2-r/2;return S(t,-o,o)}function f(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function d(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI}function v(t,e,r,n,o,i,a){void 0===i&&(i=0),void 0===a&&(a=!0);var u=a?m:g,s=x(e.width,e.height,i),l=x(e.naturalWidth,e.naturalHeight,i),p={x:u(100,((s.width-r.width/o)/2-t.x/o)/s.width*100),y:u(100,((s.height-r.height/o)/2-t.y/o)/s.height*100),width:u(100,r.width/s.width*100/o),height:u(100,r.height/s.height*100/o)},h=Math.round(u(l.width,p.width*l.width/100)),f=Math.round(u(l.height,p.height*l.height/100)),d=l.width>=l.height*n?{width:Math.round(f*n),height:f}:{width:h,height:Math.round(h/n)};return{croppedAreaPercentages:p,croppedAreaPixels:c(c({},d),{x:Math.round(u(l.width-d.width,p.x*l.width/100)),y:Math.round(u(l.height-d.height,p.y*l.height/100))})}}function m(t,e){return Math.min(t,Math.max(0,e))}function g(t,e){return e}function y(t,e,r,n,o,i){var a=x(e.width,e.height,r),c=S(n.width/a.width*(100/t.width),o,i);return{crop:{x:c*a.width/2-n.width/2-a.width*c*(t.x/100),y:c*a.height/2-n.height/2-a.height*c*(t.y/100)},zoom:c}}function w(t,e,r,n,o,i){void 0===r&&(r=0);var a=x(e.naturalWidth,e.naturalHeight,r),c=S(function(t,e,r){var n=function(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}(e);return r.height>r.width?r.height/(t.height*n):r.width/(t.width*n)}(t,e,n),o,i),u=n.height>n.width?n.height/t.height:n.width/t.width;return{crop:{x:((a.width-t.width)/2-t.x)*u,y:((a.height-t.height)/2-t.y)*u},zoom:c}}function b(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function x(t,e,r){var n=r*Math.PI/180;return{width:Math.abs(Math.cos(n)*t)+Math.abs(Math.sin(n)*e),height:Math.abs(Math.sin(n)*t)+Math.abs(Math.cos(n)*e)}}function S(t,e,r){return Math.min(Math.max(t,e),r)}function C(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return"string"==typeof t&&t.length>0})).join(" ").trim()}var E=function(t){function e(){var r=null!==t&&t.apply(this,arguments)||this;return r.imageRef=n.createRef(),r.videoRef=n.createRef(),r.containerPosition={x:0,y:0},r.containerRef=null,r.styleRef=null,r.containerRect=null,r.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},r.dragStartPosition={x:0,y:0},r.dragStartCrop={x:0,y:0},r.gestureZoomStart=0,r.gestureRotationStart=0,r.isTouching=!1,r.lastPinchDistance=0,r.lastPinchRotation=0,r.rafDragTimeout=null,r.rafPinchTimeout=null,r.wheelTimer=null,r.currentDoc="undefined"!=typeof document?document:null,r.currentWindow="undefined"!=typeof window?window:null,r.resizeObserver=null,r.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},r.initResizeObserver=function(){if(void 0!==window.ResizeObserver&&r.containerRef){var t=!0;r.resizeObserver=new window.ResizeObserver((function(e){t?t=!1:r.computeSizes()})),r.resizeObserver.observe(r.containerRef)}},r.preventZoomSafari=function(t){return t.preventDefault()},r.cleanEvents=function(){r.currentDoc&&(r.currentDoc.removeEventListener("mousemove",r.onMouseMove),r.currentDoc.removeEventListener("mouseup",r.onDragStopped),r.currentDoc.removeEventListener("touchmove",r.onTouchMove),r.currentDoc.removeEventListener("touchend",r.onDragStopped),r.currentDoc.removeEventListener("gesturemove",r.onGestureMove),r.currentDoc.removeEventListener("gestureend",r.onGestureEnd),r.currentDoc.removeEventListener("scroll",r.onScroll))},r.clearScrollEvent=function(){r.containerRef&&r.containerRef.removeEventListener("wheel",r.onWheel),r.wheelTimer&&clearTimeout(r.wheelTimer)},r.onMediaLoad=function(){var t=r.computeSizes();t&&(r.emitCropData(),r.setInitialCrop(t)),r.props.onMediaLoaded&&r.props.onMediaLoaded(r.mediaSize)},r.setInitialCrop=function(t){if(r.props.initialCroppedAreaPercentages){var e=y(r.props.initialCroppedAreaPercentages,r.mediaSize,r.props.rotation,t,r.props.minZoom,r.props.maxZoom),n=e.crop,o=e.zoom;r.props.onCropChange(n),r.props.onZoomChange&&r.props.onZoomChange(o)}else if(r.props.initialCroppedAreaPixels){var i=w(r.props.initialCroppedAreaPixels,r.mediaSize,r.props.rotation,t,r.props.minZoom,r.props.maxZoom);n=i.crop,o=i.zoom;r.props.onCropChange(n),r.props.onZoomChange&&r.props.onZoomChange(o)}},r.computeSizes=function(){var t,e,n,o,i,a,u=r.imageRef.current||r.videoRef.current;if(u&&r.containerRef){r.containerRect=r.containerRef.getBoundingClientRect(),r.saveContainerPosition();var s=r.containerRect.width/r.containerRect.height,p=(null===(t=r.imageRef.current)||void 0===t?void 0:t.naturalWidth)||(null===(e=r.videoRef.current)||void 0===e?void 0:e.videoWidth)||0,h=(null===(n=r.imageRef.current)||void 0===n?void 0:n.naturalHeight)||(null===(o=r.videoRef.current)||void 0===o?void 0:o.videoHeight)||0,f=p/h,d=void 0;if(u.offsetWidth<p||u.offsetHeight<h)switch(r.state.mediaObjectFit){default:case"contain":d=s>f?{width:r.containerRect.height*f,height:r.containerRect.height}:{width:r.containerRect.width,height:r.containerRect.width/f};break;case"horizontal-cover":d={width:r.containerRect.width,height:r.containerRect.width/f};break;case"vertical-cover":d={width:r.containerRect.height*f,height:r.containerRect.height}}else d={width:u.offsetWidth,height:u.offsetHeight};r.mediaSize=c(c({},d),{naturalWidth:p,naturalHeight:h}),r.props.setMediaSize&&r.props.setMediaSize(r.mediaSize);var v=r.props.cropSize?r.props.cropSize:l(r.mediaSize.width,r.mediaSize.height,r.containerRect.width,r.containerRect.height,r.props.aspect,r.props.rotation);return(null===(i=r.state.cropSize)||void 0===i?void 0:i.height)===v.height&&(null===(a=r.state.cropSize)||void 0===a?void 0:a.width)===v.width||r.props.onCropSizeChange&&r.props.onCropSizeChange(v),r.setState({cropSize:v},r.recomputeCropPosition),r.props.setCropSize&&r.props.setCropSize(v),v}},r.saveContainerPosition=function(){if(r.containerRef){var t=r.containerRef.getBoundingClientRect();r.containerPosition={x:t.left,y:t.top}}},r.onMouseDown=function(t){r.currentDoc&&(t.preventDefault(),r.currentDoc.addEventListener("mousemove",r.onMouseMove),r.currentDoc.addEventListener("mouseup",r.onDragStopped),r.saveContainerPosition(),r.onDragStart(e.getMousePoint(t)))},r.onMouseMove=function(t){return r.onDrag(e.getMousePoint(t))},r.onScroll=function(t){r.currentDoc&&(t.preventDefault(),r.saveContainerPosition())},r.onTouchStart=function(t){r.currentDoc&&(r.isTouching=!0,r.props.onTouchRequest&&!r.props.onTouchRequest(t)||(r.currentDoc.addEventListener("touchmove",r.onTouchMove,{passive:!1}),r.currentDoc.addEventListener("touchend",r.onDragStopped),r.saveContainerPosition(),2===t.touches.length?r.onPinchStart(t):1===t.touches.length&&r.onDragStart(e.getTouchPoint(t.touches[0]))))},r.onTouchMove=function(t){t.preventDefault(),2===t.touches.length?r.onPinchMove(t):1===t.touches.length&&r.onDrag(e.getTouchPoint(t.touches[0]))},r.onGestureStart=function(t){r.currentDoc&&(t.preventDefault(),r.currentDoc.addEventListener("gesturechange",r.onGestureMove),r.currentDoc.addEventListener("gestureend",r.onGestureEnd),r.gestureZoomStart=r.props.zoom,r.gestureRotationStart=r.props.rotation)},r.onGestureMove=function(t){if(t.preventDefault(),!r.isTouching){var n=e.getMousePoint(t),o=r.gestureZoomStart-1+t.scale;if(r.setNewZoom(o,n,{shouldUpdatePosition:!0}),r.props.onRotationChange){var i=r.gestureRotationStart+t.rotation;r.props.onRotationChange(i)}}},r.onGestureEnd=function(t){r.cleanEvents()},r.onDragStart=function(t){var e,n,o=t.x,i=t.y;r.dragStartPosition={x:o,y:i},r.dragStartCrop=c({},r.props.crop),null===(n=(e=r.props).onInteractionStart)||void 0===n||n.call(e)},r.onDrag=function(t){var e=t.x,n=t.y;r.currentWindow&&(r.rafDragTimeout&&r.currentWindow.cancelAnimationFrame(r.rafDragTimeout),r.rafDragTimeout=r.currentWindow.requestAnimationFrame((function(){if(r.state.cropSize&&void 0!==e&&void 0!==n){var t=e-r.dragStartPosition.x,o=n-r.dragStartPosition.y,i={x:r.dragStartCrop.x+t,y:r.dragStartCrop.y+o},a=r.props.restrictPosition?p(i,r.mediaSize,r.state.cropSize,r.props.zoom,r.props.rotation):i;r.props.onCropChange(a)}})))},r.onDragStopped=function(){var t,e;r.isTouching=!1,r.cleanEvents(),r.emitCropData(),null===(e=(t=r.props).onInteractionEnd)||void 0===e||e.call(t)},r.onWheel=function(t){if(r.currentWindow&&(!r.props.onWheelRequest||r.props.onWheelRequest(t))){t.preventDefault();var n=e.getMousePoint(t),o=s()(t).pixelY,i=r.props.zoom-o*r.props.zoomSpeed/200;r.setNewZoom(i,n,{shouldUpdatePosition:!0}),r.state.hasWheelJustStarted||r.setState({hasWheelJustStarted:!0},(function(){var t,e;return null===(e=(t=r.props).onInteractionStart)||void 0===e?void 0:e.call(t)})),r.wheelTimer&&clearTimeout(r.wheelTimer),r.wheelTimer=r.currentWindow.setTimeout((function(){return r.setState({hasWheelJustStarted:!1},(function(){var t,e;return null===(e=(t=r.props).onInteractionEnd)||void 0===e?void 0:e.call(t)}))}),250)}},r.getPointOnContainer=function(t,e){var n=t.x,o=t.y;if(!r.containerRect)throw new Error("The Cropper is not mounted");return{x:r.containerRect.width/2-(n-e.x),y:r.containerRect.height/2-(o-e.y)}},r.getPointOnMedia=function(t){var e=t.x,n=t.y,o=r.props,i=o.crop,a=o.zoom;return{x:(e+i.x)/a,y:(n+i.y)/a}},r.setNewZoom=function(t,e,n){var o=(void 0===n?{}:n).shouldUpdatePosition,i=void 0===o||o;if(r.state.cropSize&&r.props.onZoomChange){var a=S(t,r.props.minZoom,r.props.maxZoom);if(i){var c=r.getPointOnContainer(e,r.containerPosition),u=r.getPointOnMedia(c),s={x:u.x*a-c.x,y:u.y*a-c.y},l=r.props.restrictPosition?p(s,r.mediaSize,r.state.cropSize,a,r.props.rotation):s;r.props.onCropChange(l)}r.props.onZoomChange(a)}},r.getCropData=function(){return r.state.cropSize?v(r.props.restrictPosition?p(r.props.crop,r.mediaSize,r.state.cropSize,r.props.zoom,r.props.rotation):r.props.crop,r.mediaSize,r.state.cropSize,r.getAspect(),r.props.zoom,r.props.rotation,r.props.restrictPosition):null},r.emitCropData=function(){var t=r.getCropData();if(t){var e=t.croppedAreaPercentages,n=t.croppedAreaPixels;r.props.onCropComplete&&r.props.onCropComplete(e,n),r.props.onCropAreaChange&&r.props.onCropAreaChange(e,n)}},r.emitCropAreaChange=function(){var t=r.getCropData();if(t){var e=t.croppedAreaPercentages,n=t.croppedAreaPixels;r.props.onCropAreaChange&&r.props.onCropAreaChange(e,n)}},r.recomputeCropPosition=function(){if(r.state.cropSize){var t=r.props.restrictPosition?p(r.props.crop,r.mediaSize,r.state.cropSize,r.props.zoom,r.props.rotation):r.props.crop;r.props.onCropChange(t),r.emitCropData()}},r}return a(e,t),e.prototype.componentDidMount=function(){this.currentDoc&&this.currentWindow&&(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),void 0===window.ResizeObserver&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=".reactEasyCrop_Container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  user-select: none;\n  touch-action: none;\n  cursor: move;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.reactEasyCrop_Image,\n.reactEasyCrop_Video {\n  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */\n}\n\n.reactEasyCrop_Contain {\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.reactEasyCrop_Cover_Horizontal {\n  width: 100%;\n  height: auto;\n}\n.reactEasyCrop_Cover_Vertical {\n  width: auto;\n  height: 100%;\n}\n\n.reactEasyCrop_CropArea {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  box-sizing: border-box;\n  box-shadow: 0 0 0 9999em;\n  color: rgba(0, 0, 0, 0.5);\n  overflow: hidden;\n}\n\n.reactEasyCrop_CropAreaRound {\n  border-radius: 50%;\n}\n\n.reactEasyCrop_CropAreaGrid::before {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 0;\n  bottom: 0;\n  left: 33.33%;\n  right: 33.33%;\n  border-top: 0;\n  border-bottom: 0;\n}\n\n.reactEasyCrop_CropAreaGrid::after {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 33.33%;\n  bottom: 33.33%;\n  left: 0;\n  right: 0;\n  border-left: 0;\n  border-right: 0;\n}\n",this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},e.prototype.componentWillUnmount=function(){var t,e;this.currentDoc&&this.currentWindow&&(void 0===window.ResizeObserver&&this.currentWindow.removeEventListener("resize",this.computeSizes),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&(null===(e=this.styleRef.parentNode)||void 0===e||e.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(t){var e,r,n,o,i,a,c,u,s;t.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):t.aspect!==this.props.aspect||t.objectFit!==this.props.objectFit?this.computeSizes():t.zoom!==this.props.zoom?this.recomputeCropPosition():(null===(e=t.cropSize)||void 0===e?void 0:e.height)!==(null===(r=this.props.cropSize)||void 0===r?void 0:r.height)||(null===(n=t.cropSize)||void 0===n?void 0:n.width)!==(null===(o=this.props.cropSize)||void 0===o?void 0:o.width)?this.computeSizes():(null===(i=t.crop)||void 0===i?void 0:i.x)===(null===(a=this.props.crop)||void 0===a?void 0:a.x)&&(null===(c=t.crop)||void 0===c?void 0:c.y)===(null===(u=this.props.crop)||void 0===u?void 0:u.y)||this.emitCropAreaChange(),t.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),t.video!==this.props.video&&(null===(s=this.videoRef.current)||void 0===s||s.load());var l=this.getObjectFit();l!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:l},this.computeSizes)},e.prototype.getAspect=function(){var t=this.props,e=t.cropSize,r=t.aspect;return e?e.width/e.height:r},e.prototype.getObjectFit=function(){var t,e,r,n;if("cover"===this.props.objectFit){if((this.imageRef.current||this.videoRef.current)&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var o=this.containerRect.width/this.containerRect.height;return((null===(t=this.imageRef.current)||void 0===t?void 0:t.naturalWidth)||(null===(e=this.videoRef.current)||void 0===e?void 0:e.videoWidth)||0)/((null===(r=this.imageRef.current)||void 0===r?void 0:r.naturalHeight)||(null===(n=this.videoRef.current)||void 0===n?void 0:n.videoHeight)||0)<o?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(t){var r=e.getTouchPoint(t.touches[0]),n=e.getTouchPoint(t.touches[1]);this.lastPinchDistance=f(r,n),this.lastPinchRotation=d(r,n),this.onDragStart(b(r,n))},e.prototype.onPinchMove=function(t){var r=this;if(this.currentDoc&&this.currentWindow){var n=e.getTouchPoint(t.touches[0]),o=e.getTouchPoint(t.touches[1]),i=b(n,o);this.onDrag(i),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame((function(){var t=f(n,o),e=r.props.zoom*(t/r.lastPinchDistance);r.setNewZoom(e,i,{shouldUpdatePosition:!1}),r.lastPinchDistance=t;var a=d(n,o),c=r.props.rotation+(a-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(c),r.lastPinchRotation=a}))}},e.prototype.render=function(){var t,e=this,r=this.props,o=r.image,i=r.video,a=r.mediaProps,u=r.transform,s=r.crop,l=s.x,p=s.y,h=r.rotation,f=r.zoom,d=r.cropShape,v=r.showGrid,m=r.style,g=m.containerStyle,y=m.cropAreaStyle,w=m.mediaStyle,b=r.classes,x=b.containerClassName,S=b.cropAreaClassName,E=b.mediaClassName,P=null!==(t=this.state.mediaObjectFit)&&void 0!==t?t:this.getObjectFit();return n.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(t){return e.containerRef=t},"data-testid":"container",style:g,className:C("reactEasyCrop_Container",x)},o?n.createElement("img",c({alt:"",className:C("reactEasyCrop_Image","contain"===P&&"reactEasyCrop_Contain","horizontal-cover"===P&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===P&&"reactEasyCrop_Cover_Vertical",E)},a,{src:o,ref:this.imageRef,style:c(c({},w),{transform:u||"translate(".concat(l,"px, ").concat(p,"px) rotate(").concat(h,"deg) scale(").concat(f,")")}),onLoad:this.onMediaLoad})):i&&n.createElement("video",c({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:C("reactEasyCrop_Video","contain"===P&&"reactEasyCrop_Contain","horizontal-cover"===P&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===P&&"reactEasyCrop_Cover_Vertical",E)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:c(c({},w),{transform:u||"translate(".concat(l,"px, ").concat(p,"px) rotate(").concat(h,"deg) scale(").concat(f,")")}),controls:!1}),(Array.isArray(i)?i:[{src:i}]).map((function(t){return n.createElement("source",c({key:t.src},t))}))),this.state.cropSize&&n.createElement("div",{style:c(c({},y),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:C("reactEasyCrop_CropArea","round"===d&&"reactEasyCrop_CropAreaRound",v&&"reactEasyCrop_CropAreaGrid",S)}))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:3,minZoom:1,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},e.getMousePoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},e.getTouchPoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},e}(n.Component);function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */O=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new M(n||[]);return o(a,"_invoke",{value:R(t,r,c)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",f="executing",d="completed",v={};function m(){}function g(){}function y(){}var w={};s(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(D([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=y.prototype=m.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==P(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function R(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=z(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var s=p(e,r,n);if("normal"===s.type){if(o=n.done?d:"suspendedYield",s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function z(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,z(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=p(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function D(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(P(e)+" is not iterable")}return g.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:g,configurable:!0}),g.displayName=s(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(E.prototype),s(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=D,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:D(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function R(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function z(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){R(i,n,o,a,c,"next",t)}function c(t){R(i,n,o,a,c,"throw",t)}a(void 0)}))}}var L=function(t){return new Promise((function(e,r){var n=new Image;n.addEventListener("load",(function(){return e(n)})),n.addEventListener("error",(function(t){return r(t)})),n.setAttribute("crossOrigin","anonymous"),n.src=t}))};function j(t){return t*Math.PI/180}function M(t,e){return D.apply(this,arguments)}function D(){return(D=z(O().mark((function t(e,r){var n,o,i,a,c,u,s,l=arguments;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:0,t.next=3,L(e);case 3:return o=t.sent,i=document.createElement("canvas"),a=i.getContext("2d"),c=Math.max(o.width,o.height),u=c/2*Math.sqrt(2)*2,i.width=u,i.height=u,a.translate(u/2,u/2),a.rotate(j(n)),a.translate(-u/2,-u/2),a.drawImage(o,u/2-.5*o.width,u/2-.5*o.height),s=a.getImageData(0,0,u,u),i.width=r.width,i.height=r.height,a.putImageData(s,Math.round(0-u/2+.5*o.width-r.x),Math.round(0-u/2+.5*o.height-r.y)),t.abrupt("return",new Promise((function(t){i.toBlob((function(e){var r=new File([e],"canvas-image-".concat(Date.now(),".jpeg"),{type:"image/jpeg"});console.log(e),t({fileUrl:URL.createObjectURL(e),createdFile:r})}),"image/jpeg")})));case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */I=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new L(n||[]);return o(a,"_invoke",{value:P(t,r,c)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",f="executing",d="completed",v={};function m(){}function g(){}function y(){}var w={};s(w,a,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(j([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=y.prototype=m.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==_(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function P(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=O(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var s=p(e,r,n);if("normal"===s.type){if(o=n.done?d:"suspendedYield",s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=p(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function z(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function j(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(_(e)+" is not iterable")}return g.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:g,configurable:!0}),g.displayName=s(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(E.prototype),s(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=j,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(z),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),z(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;z(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:j(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function A(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function T(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){A(i,n,o,a,c,"next",t)}function c(t){A(i,n,o,a,c,"throw",t)}a(void 0)}))}}function N(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return F(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var W=[{value:4/3,text:"4/3"},{value:16/9,text:"16/9"},{value:.5,text:"1/2"}],k=function(t){var e=t.id,r=(t.imageUrl,t.cropInit),i=t.zoomInit,a=t.aspectInit,c=t.onCancel,u=t.setCroppedImageFor,s=t.resetImage,l=t.images,p=(t.setSelectedImage,t.currentImage),h=t.setCurrentImage,f=t.cropImageId,d=t.setCroppedImageId;null==i&&(i=1),null==r&&(r={x:0,y:0}),null==a&&(a=W[0]);var v=N(Object(n.useState)(i),2),m=v[0],g=v[1],y=N(Object(n.useState)(r),2),w=y[0],b=y[1],x=N(Object(n.useState)(a),2),S=x[0],C=x[1],P=N(Object(n.useState)(null),2),O=P[0],R=P[1],z=function(t){g(t)},L=function(){var t=T(I().mark((function t(){var e,r,n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(p,O);case 2:e=t.sent,r=e.fileUrl,n=e.createdFile,console.log("fileUrl,createdFile",r,n),u(f,w,m,S,r,n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=function(){var t=T(I().mark((function t(e,r){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("index",r),h(e),d(r),b({x:0,y:0}),g(1),C(W[0]);case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement("div",{className:"backdrop"}),o.a.createElement("div",{className:"crop-container"},o.a.createElement(E,{image:p,zoom:m,crop:w,aspect:S.value,onCropChange:function(t){b(t)},onZoomChange:z,onCropComplete:function(t,e){R(e)}})),o.a.createElement("div",{className:"controls"},o.a.createElement("div",{className:"controls-upper-area"},o.a.createElement("input",{type:"range",min:1,max:3,step:.1,value:m,onInput:function(t){z(t.target.value)},className:"slider"}),o.a.createElement("select",{onChange:function(t){var e=t.target.value,r=W.find((function(t){return t.value==e}));C(r)}},W.map((function(t){return o.a.createElement("option",{key:t.text,value:t.value,selected:t.value===S.value},t.text)})))),o.a.createElement("div",null,null==l?void 0:l.map((function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{width:"100px",style:{margin:"4px"},src:null!=t&&t.imageUrl&&null==t?void 0:t.imageUrl,alt:"",onClick:function(){return j(null==t?void 0:t.imageUrl,null==t?void 0:t.id)}}))}))),o.a.createElement("div",{className:"button-area"},o.a.createElement("button",{onClick:c},"Cancel"),o.a.createElement("button",{onClick:function(){s(e)}},"Reset"),o.a.createElement("button",{onClick:L},"Crop"))))};function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t){return function(t){if(Array.isArray(t))return q(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||X(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function H(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(r),!0).forEach((function(e){Y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Y(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=U(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==U(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||X(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(t,e){if(t){if("string"==typeof t)return q(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(t,e):void 0}}function q(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}e.default=function(t){var e=t.onUpload,r=V(Object(n.useState)([]),2),i=r[0],a=r[1],c=V(Object(n.useState)([]),2),u=c[0],s=c[1],l=V(Object(n.useState)(null),2),p=l[0],h=l[1],f=V(Object(n.useState)(""),2),d=f[0],v=f[1],m=V(Object(n.useState)(""),2),g=m[0],y=m[1];console.log("cropImageId 15",g),console.log("images",i);var w=function(t,e,r,n,o,c){console.log("id 34",t);var u=i.map((function(i){return i.id===t?H(H({},i),{},{crop:e,zoom:r,aspect:n,croppedImageUrl:o,file:c,cropped:!0}):i}));console.log("newImageList",u),a(u),s((function(t){return[].concat(G(t),[o])}));var l=u.find((function(t){return!t.croppedImageUrl}));l?(v(null==l?void 0:l.imageUrl),h(l),y(null==l?void 0:l.id)):h(null)};return o.a.createElement("div",null,p?o.a.createElement(k,{id:null==p?void 0:p.id,imageUrl:null==p?void 0:p.imageUrl,cropInit:null==p?void 0:p.crop,zoomInit:null==p?void 0:p.zoom,aspectInit:null==p?void 0:p.aspect,onCancel:function(){h(null)},setCroppedImageFor:w,resetImage:function(t){w(t)},images:i,setSelectedImage:h,setCurrentImage:v,currentImage:d,cropImageId:g,setCroppedImageId:y}):null,o.a.createElement("input",{type:"file",onChange:function(t){var e,r,n,o=Array.from(null==t||null===(e=t.target)||void 0===e?void 0:e.files).map((function(t,e){return{id:e,imageUrl:URL.createObjectURL(t),croppedImageUrl:null,file:t,cropped:!1}}));a((function(t){return[].concat(G(t),G(o))})),v(null===(r=o[0])||void 0===r?void 0:r.imageUrl),h(o[0]),y(null===(n=o[0])||void 0===n?void 0:n.id)},multiple:!0}),u.map((function(t){return o.a.createElement("div",{className:"imageCard",key:t.id},o.a.createElement("button",{onClick:function(){return function(t){var e=i.filter((function(e){return e.croppedImageUrl!==t}));console.log("updatedImages",e),console.log("imageToDelete",t);var r=u.filter((function(e){return e!==t}));a(e),s(r)}(t)}},"delete image"),o.a.createElement("img",{src:t||t.imageUrl,alt:"",onClick:function(){console.log(t)}}))})),(null==u?void 0:u.length)>0&&o.a.createElement("button",{onClick:function(){if(e){var t=i.filter((function(t){return t.croppedImageUrl}));e(t)}}},"upload image"))}}]);